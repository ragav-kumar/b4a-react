{"version":3,"sources":["queries/__generated__/queries_LogInMutation.graphql.js","queries/__generated__/queries_GetAllPostsQuery.graphql.js","queries/__generated__/queries_submitPostMutation.graphql.js","queries/queries.ts","relayEnvironment.ts","Form/PostList.tsx","Form/LogIn.tsx","Form/SubmitPost.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["node","v0","v1","hash","module","exports","v2","v3","v4","logInQuery","getAllPostsQuery","API","uri","process","applicationID","key","generateFetch","sessionToken","headers","length","params","variables","a","console","log","name","JSON","stringify","metadata","hasOwnProperty","String","fetch","method","body","query","text","response","json","loggedOutEnvironment","Environment","network","Network","create","store","Store","RecordSource","PostList","environment","render","props","src","theme","enableClipboard","StyledForm","styled","Form","InvalidMessage","div","loginSchema","Yup","shape","username","required","password","initialValues","LogIn","onSubmit","isInvalid","isLoggedIn","validationSchema","as","type","value","SubmitPost","useState","setEnvironment","useEffect","createLoggedInEnvironment","App","setSessionToken","loggedIn","setLoggedIn","loginInvalid","setLoginInvalid","values","form","commitMutation","mutation","onCompleted","errors","logIn","setSubmitting","onError","err","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c456c568.chunk.js","sourcesContent":["/**\n * @flow\n * @relayHash da446786096d11f7caac2fad94a92b04\n */\n\n/* eslint-disable */\n\n'use strict';\n\n/*::\nimport type { ConcreteRequest } from 'relay-runtime';\nexport type queries_LogInMutationVariables = {|\n  username: string,\n  password: string,\n|};\nexport type queries_LogInMutationResponse = {|\n  +logIn: {|\n    +id: string,\n    +username: ?string,\n    +sessionToken: string,\n  |}\n|};\nexport type queries_LogInMutation = {|\n  variables: queries_LogInMutationVariables,\n  response: queries_LogInMutationResponse,\n|};\n*/\n\n\n/*\nmutation queries_LogInMutation(\n  $username: String!\n  $password: String!\n) {\n  logIn(fields: {username: $username, password: $password}) {\n    id\n    username\n    sessionToken\n  }\n}\n*/\n\nconst node/*: ConcreteRequest*/ = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"username\",\n    \"type\": \"String!\",\n    \"defaultValue\": null\n  },\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"password\",\n    \"type\": \"String!\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"logIn\",\n    \"storageKey\": null,\n    \"args\": [\n      {\n        \"kind\": \"ObjectValue\",\n        \"name\": \"fields\",\n        \"fields\": [\n          {\n            \"kind\": \"Variable\",\n            \"name\": \"password\",\n            \"variableName\": \"password\"\n          },\n          {\n            \"kind\": \"Variable\",\n            \"name\": \"username\",\n            \"variableName\": \"username\"\n          }\n        ]\n      }\n    ],\n    \"concreteType\": \"Viewer\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"id\",\n        \"args\": null,\n        \"storageKey\": null\n      },\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"username\",\n        \"args\": null,\n        \"storageKey\": null\n      },\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"sessionToken\",\n        \"args\": null,\n        \"storageKey\": null\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"queries_LogInMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"queries_LogInMutation\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"queries_LogInMutation\",\n    \"id\": null,\n    \"text\": \"mutation queries_LogInMutation(\\n  $username: String!\\n  $password: String!\\n) {\\n  logIn(fields: {username: $username, password: $password}) {\\n    id\\n    username\\n    sessionToken\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n// prettier-ignore\n(node/*: any*/).hash = '1d24e4027dabd0c6b8ea380ad6b797be';\n\nmodule.exports = node;\n","/**\n * @flow\n * @relayHash b2546904b52908cb0477d244de84a85f\n */\n\n/* eslint-disable */\n\n'use strict';\n\n/*::\nimport type { ConcreteRequest } from 'relay-runtime';\nexport type queries_GetAllPostsQueryVariables = {||};\nexport type queries_GetAllPostsQueryResponse = {|\n  +posts: {|\n    +count: number,\n    +results: $ReadOnlyArray<{|\n      +createdAt: any,\n      +content: ?string,\n      +likes: ?number,\n      +showComments: ?boolean,\n    |}>,\n  |}\n|};\nexport type queries_GetAllPostsQuery = {|\n  variables: queries_GetAllPostsQueryVariables,\n  response: queries_GetAllPostsQueryResponse,\n|};\n*/\n\n\n/*\nquery queries_GetAllPostsQuery {\n  posts {\n    count\n    results {\n      createdAt\n      content\n      likes\n      showComments\n      id\n    }\n  }\n}\n*/\n\nconst node/*: ConcreteRequest*/ = (function(){\nvar v0 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"count\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv1 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"createdAt\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv2 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"content\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv3 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"likes\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv4 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"showComments\",\n  \"args\": null,\n  \"storageKey\": null\n};\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"queries_GetAllPostsQuery\",\n    \"type\": \"Query\",\n    \"metadata\": null,\n    \"argumentDefinitions\": [],\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"posts\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"PostFindResult\",\n        \"plural\": false,\n        \"selections\": [\n          (v0/*: any*/),\n          {\n            \"kind\": \"LinkedField\",\n            \"alias\": null,\n            \"name\": \"results\",\n            \"storageKey\": null,\n            \"args\": null,\n            \"concreteType\": \"Post\",\n            \"plural\": true,\n            \"selections\": [\n              (v1/*: any*/),\n              (v2/*: any*/),\n              (v3/*: any*/),\n              (v4/*: any*/)\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"queries_GetAllPostsQuery\",\n    \"argumentDefinitions\": [],\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"posts\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"PostFindResult\",\n        \"plural\": false,\n        \"selections\": [\n          (v0/*: any*/),\n          {\n            \"kind\": \"LinkedField\",\n            \"alias\": null,\n            \"name\": \"results\",\n            \"storageKey\": null,\n            \"args\": null,\n            \"concreteType\": \"Post\",\n            \"plural\": true,\n            \"selections\": [\n              (v1/*: any*/),\n              (v2/*: any*/),\n              (v3/*: any*/),\n              (v4/*: any*/),\n              {\n                \"kind\": \"ScalarField\",\n                \"alias\": null,\n                \"name\": \"id\",\n                \"args\": null,\n                \"storageKey\": null\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  \"params\": {\n    \"operationKind\": \"query\",\n    \"name\": \"queries_GetAllPostsQuery\",\n    \"id\": null,\n    \"text\": \"query queries_GetAllPostsQuery {\\n  posts {\\n    count\\n    results {\\n      createdAt\\n      content\\n      likes\\n      showComments\\n      id\\n    }\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n// prettier-ignore\n(node/*: any*/).hash = '7e75fa148f84b8e0f90afafe766c2873';\n\nmodule.exports = node;\n","/**\n * @flow\n * @relayHash 9aedafd54ee87f0cff36035b69ede2e8\n */\n\n/* eslint-disable */\n\n'use strict';\n\n/*::\nimport type { ConcreteRequest } from 'relay-runtime';\nexport type queries_submitPostMutationVariables = {|\n  content?: ?string,\n  likes?: ?number,\n  tags?: ?$ReadOnlyArray<?any>,\n  showComments?: ?boolean,\n|};\nexport type queries_submitPostMutationResponse = {|\n  +createPost: {|\n    +id: string\n  |}\n|};\nexport type queries_submitPostMutation = {|\n  variables: queries_submitPostMutationVariables,\n  response: queries_submitPostMutationResponse,\n|};\n*/\n\n\n/*\nmutation queries_submitPostMutation(\n  $content: String\n  $likes: Float\n  $tags: [Any]\n  $showComments: Boolean\n) {\n  createPost(fields: {content: $content, likes: $likes, tags: $tags, showComments: $showComments}) {\n    id\n  }\n}\n*/\n\nconst node/*: ConcreteRequest*/ = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"content\",\n    \"type\": \"String\",\n    \"defaultValue\": null\n  },\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"likes\",\n    \"type\": \"Float\",\n    \"defaultValue\": null\n  },\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"tags\",\n    \"type\": \"[Any]\",\n    \"defaultValue\": null\n  },\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"showComments\",\n    \"type\": \"Boolean\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"createPost\",\n    \"storageKey\": null,\n    \"args\": [\n      {\n        \"kind\": \"ObjectValue\",\n        \"name\": \"fields\",\n        \"fields\": [\n          {\n            \"kind\": \"Variable\",\n            \"name\": \"content\",\n            \"variableName\": \"content\"\n          },\n          {\n            \"kind\": \"Variable\",\n            \"name\": \"likes\",\n            \"variableName\": \"likes\"\n          },\n          {\n            \"kind\": \"Variable\",\n            \"name\": \"showComments\",\n            \"variableName\": \"showComments\"\n          },\n          {\n            \"kind\": \"Variable\",\n            \"name\": \"tags\",\n            \"variableName\": \"tags\"\n          }\n        ]\n      }\n    ],\n    \"concreteType\": \"Post\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"id\",\n        \"args\": null,\n        \"storageKey\": null\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"queries_submitPostMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"queries_submitPostMutation\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"queries_submitPostMutation\",\n    \"id\": null,\n    \"text\": \"mutation queries_submitPostMutation(\\n  $content: String\\n  $likes: Float\\n  $tags: [Any]\\n  $showComments: Boolean\\n) {\\n  createPost(fields: {content: $content, likes: $likes, tags: $tags, showComments: $showComments}) {\\n    id\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n// prettier-ignore\n(node/*: any*/).hash = 'f20edcdfe13d3876a206a82433f670c7';\n\nmodule.exports = node;\n","import { graphql } from 'babel-plugin-relay/macro';\r\nimport { OperationType, MutationParameters } from 'relay-runtime';\r\n// Attempt to log in the user\r\nexport const logInQuery = graphql`\r\n\tmutation queries_LogInMutation($username:String!, $password:String!) {\r\n\t\tlogIn(fields:{\r\n\t\t\tusername: $username\r\n\t\t\tpassword: $password\r\n\t\t}){\r\n\t\t\tid,\r\n\t\t\tusername,\r\n\t\t\tsessionToken\r\n\t\t}\r\n\t}\r\n`;\r\n// OperationType for logInQuery. I could have extended OperationType with no difference.\r\nexport interface LogInOperation extends MutationParameters {\r\n\tvariables: {\r\n\t\tusername: string;\r\n\t\tpassword: string;\r\n\t};\r\n\tresponse: {\r\n\t\tlogIn: {\r\n\t\t\tid: string;\r\n\t\t\tusername: string;\r\n\t\t\tsessionToken: string;\r\n\t\t}\r\n\t};\r\n}\r\n// Retrieve all posts in system\r\nexport const getAllPostsQuery = graphql`\r\n\tquery queries_GetAllPostsQuery {\r\n\t\tposts {\r\n\t\t\tcount,\r\n\t\t\tresults {\r\n\t\t\t\tcreatedAt,\r\n\t\t\t\tcontent,\r\n\t\t\t\tlikes,\r\n\t\t\t\tshowComments\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n// OperationType for getAllPostsQuery. Not actually used...\r\nexport interface GetPostsOperation extends OperationType {\r\n\tvariables: {\r\n\t\t//No inputs\r\n\t};\r\n\tresponse: {\r\n\t\tposts: {\r\n\t\t\tcount: Number;\r\n\t\t\tresults: {\r\n\t\t\t\t[index: number]: {\r\n\t\t\t\t\tcreatedAt: Date;\r\n\t\t\t\t\tcontent: String;\r\n\t\t\t\t\tlikes: Number;\r\n\t\t\t\t\tshowComments: Boolean;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n// Submit a new post, return id of new post\r\nexport const submitPostQuery = graphql`\r\n\tmutation queries_submitPostMutation(\r\n\t\t$content:String,\r\n\t\t$likes:Float,\r\n\t\t$tags:[Any],\r\n\t\t$showComments:Boolean\r\n\t) {\r\n\t\tcreatePost(fields: {\r\n\t\t\tcontent: $content,\r\n\t\t\tlikes: $likes,\r\n\t\t\ttags: $tags,\r\n\t\t\tshowComments: $showComments\r\n\t\t}) {\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`;\r\n//OperationType for submitPostQuery\r\nexport interface SubmitPostOperation extends MutationParameters {\r\n\tvariables: {\r\n\t\tcontent: String;\r\n\t\tlikes: Number;\r\n\t\ttags: [String];\r\n\t\tshowComments: Boolean;\r\n\t};\r\n\tresponse: {\r\n\t\tid: String;\r\n\t};\r\n}","import { Environment, Network, RecordSource, Store, Variables, RequestParameters } from \"relay-runtime\";\r\n\r\nconst API = {\r\n\turi: process.env.REACT_APP_GQL_URI ?? \"\",\r\n\tapplicationID: process.env.REACT_APP_GQL_APP_ID ?? \"\",\r\n\tkey: process.env.REACT_APP_GQL_JS_KEY ?? \"\",\r\n};\r\nconst generateFetch = (sessionToken?: string) => {\r\n\tconst headers: HeadersInit = {\r\n\t\t'X-Parse-Application-Id': API.applicationID,\r\n\t\t'X-Parse-Javascript-Key': API.key,\r\n\t\t'Content-Type': 'application/json',\r\n\t};\r\n\tif (sessionToken?.length) {\r\n\t\theaders[\"X-Parse-Session-Token\"] = sessionToken;\r\n\t}\r\n\treturn async (params:RequestParameters, variables:Variables) => {\r\n\t\tconsole.log(`fetching query ${params.name} with ${JSON.stringify(variables)}`);\r\n\t\tconst headers: HeadersInit = {\r\n\t\t\t'X-Parse-Application-Id': API.applicationID,\r\n\t\t\t'X-Parse-Javascript-Key': API.key,\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t};\r\n\t\tif (params.metadata.hasOwnProperty(\"sessionToken\")) {\r\n\t\t\theaders[\"X-Parse-Session-Token\"] = String(params.metadata.sessionToken);\r\n\t\t}\r\n\t\tconst response = await fetch(API.uri, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: headers,\r\n\t\t\tbody: JSON.stringify({ query: params.text, variables }),\r\n\t\t});\r\n\t\treturn await response.json();\r\n\t}\r\n}\r\n/*\r\nconst fetchQuery: FetchFunction = async (params, variables) => {\r\n\tconsole.log(`fetching query ${params.name} with ${JSON.stringify(variables)}`);\r\n\tconst headers: HeadersInit = {\r\n\t\t'X-Parse-Application-Id': API.applicationID,\r\n\t\t'X-Parse-Javascript-Key': API.key,\r\n\t\t'Content-Type': 'application/json',\r\n\t};\r\n\tif (params.metadata.hasOwnProperty(\"sessionToken\")) {\r\n\t\theaders[\"X-Parse-Session-Token\"] = String(params.metadata.sessionToken);\r\n\t}\r\n\tconst response = await fetch(API.uri, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: headers,\r\n\t\tbody: JSON.stringify({ query: params.text, variables }),\r\n\t});\r\n\treturn await response.json();\r\n}*/\r\n// Logged Out Environment\r\nexport const loggedOutEnvironment = new Environment({\r\n\tnetwork: Network.create(generateFetch()),\r\n\tstore: new Store(new RecordSource()),\r\n});\r\n// Create logged in environment using sessionToken\r\nexport function createLoggedInEnvironment(sessionToken:string):Environment {\r\n\treturn new Environment({\r\n\t\tnetwork: Network.create(generateFetch(sessionToken)),\r\n\t\tstore: new Store(new RecordSource()),\r\n\t});\r\n}\r\n","import React from 'react'\nimport styled from 'styled-components'\nimport { getAllPostsQuery } from \"../queries/queries\";\nimport { QueryRenderer } from 'react-relay';\nimport { loggedOutEnvironment } from '../relayEnvironment';\nimport ReactJson from 'react-json-view';\n\n/*interface TableProps {\n\n}\nconst Table = (props:TableProps) => {\n\tconst rows:JSX.Element[] = [];\n\t\n\treturn (\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<th>Created</th>\n\t\t\t\t<th>Content</th>\n\t\t\t\t<th>Likes</th>\n\t\t\t\t<th>Show Comments?</th>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{rows}\n\t\t\t</tbody>\n\t\t</table>\n\t);\n}*/\n\nconst PostList = () => (\n\t<QueryRenderer\n\t\tenvironment={loggedOutEnvironment}\n\t\tquery={getAllPostsQuery}\n\t\tvariables={{}}\n\t\trender={({props}:{props: any}) => (\n\t\t\t<ReactJson\n\t\t\t\tsrc={props}\n\t\t\t\ttheme=\"isotope\"\n\t\t\t\tenableClipboard={false}\n\t\t\t/>\n\t\t)}\n\t/>\n)\n\nexport default PostList;","import React from 'react'\nimport {Formik, Form, Field, FormikHelpers} from 'formik'\nimport styled from 'styled-components'\nimport * as Yup from 'yup'\n\nconst StyledForm = styled(Form)`\n\tpadding: 1em;\n\tcolor: white;\n\tmax-width: 400px;\n\t> * {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: [first] 8em [second] 1fr;\n\t\t\n\t\talign-items: center;\n\t\tspan {\n\t\t\tgrid-area: first;\n\t\t\tdisplay: block;\n\t\t\ttext-align: right;\n\t\t\tpadding-right: 1em;\n\t\t}\n\t\tinput {\n\t\t\tgrid-area: second;\n\t\t\tmargin-top: 5px;\n\t\t\t&[type=submit] {\n\t\t\t\tmax-width: 8em;\n\t\t\t}\n\t\t}\n\t}\n`;\nconst InvalidMessage = styled.div`\n\tgrid-area: second;\n\tcolor: red;\n\tfont-size: 12px;\n\ttext-align: center;\n`;\n\n\nexport interface LogInState {\n\tusername: string;\n\tpassword: string;\n}\n\nconst loginSchema = Yup.object().shape<LogInState>({\n\tusername: Yup.string().required('Required'),\n\tpassword: Yup.string().required(\"Required\"),\n});\nconst initialValues:LogInState = {\n\tusername: \"\",\n\tpassword: \"\",\n}\ninterface LogInProps {\n\tonSubmit: (\n\t\tvalues: LogInState,\n\t\tform: FormikHelpers<LogInState>\n\t) => void;\n\tisInvalid: Boolean;\n\tisLoggedIn: Boolean;\n}\nexport const LogIn = ({onSubmit, isInvalid, isLoggedIn}:LogInProps) => (\n\t<Formik\n\t\tinitialValues={initialValues}\n\t\tonSubmit={onSubmit}\n\t\tvalidationSchema={loginSchema}\n\t>\n\t\t{() => (\n\t\t\t<>{isLoggedIn ? null : \n\t\t\t<StyledForm>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Username</span>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tas=\"input\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Password</span>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tas=\"input\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t{isInvalid ?\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<InvalidMessage>Invalid Username / Password</InvalidMessage>\n\t\t\t\t\t</label>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<label>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tname=\"submit\"\n\t\t\t\t\t\tas=\"input\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"Log in\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t</StyledForm>\n\t\t\t}</>\n\t\t)}\n\t</Formik>\n)","import React, { useEffect, useState } from 'react'\nimport { Environment } from 'react-relay';\nimport { createLoggedInEnvironment } from '../relayEnvironment';\n\ninterface SubmitPostProps {\n\tsessionToken: string;\n}\nconst SubmitPost = ({sessionToken}: SubmitPostProps) => {\n\tconst [environment, setEnvironment] = useState<Environment>();\n\tuseEffect(() => {\n\t\tsetEnvironment(createLoggedInEnvironment(sessionToken));\n\t}, [sessionToken]);\n\t\n\tif (environment) {\n\t\treturn (<p>TODO</p>);\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport default SubmitPost;","import React,{useState} from 'react'\r\nimport { FormikHelpers } from 'formik'\r\n\r\nimport { logInQuery, LogInOperation } from './queries/queries';\r\nimport { loggedOutEnvironment } from './relayEnvironment';\r\nimport { commitMutation } from 'relay-runtime';\r\nimport PostList from './Form/PostList';\r\nimport { LogIn, LogInState } from './Form/LogIn';\r\nimport SubmitPost from './Form/SubmitPost';\r\n\r\n/* const StyledForm = styled(Form)`\r\n\tpadding: 1em;\r\n\tcolor: white;\r\n`;\r\nconst FetchWrap = styled.div`\r\n\tfont-size: 12px;\r\n\tmin-height: 20em;\r\n\tpadding: 2em;\r\n\tborder: 3px double white;\r\n`;\r\nconst QueryDisplay = styled.pre`\r\n\tcolor: white;\r\n\theight: 20em;\r\n\toverflow-y: scroll;\r\n\tborder: 1px solid white;\r\n`;\r\nconst TwoColumns = styled.div`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 1fr 1fr;\r\n\talign-items: center;\r\n\tjustify-items: baseline;\r\n`; */\r\n\r\nconst App = () => {\r\n\tconst [sessionToken, setSessionToken] = useState(\"\");\r\n\tconst [loggedIn, setLoggedIn] = useState(false);\r\n\tconst [loginInvalid, setLoginInvalid] = useState(false);\r\n\r\n\tconst handleLogIn = (values: LogInState, form: FormikHelpers<LogInState>) => {\r\n\t\tcommitMutation<LogInOperation>(loggedOutEnvironment, {\r\n\t\t\tmutation: logInQuery,\r\n\t\t\tvariables: values,\r\n\t\t\tonCompleted: (response, errors) => {\r\n\t\t\t\t/* if (response.sessionToken?.length) {\r\n\t\t\t\t\tsetSessionToken(response.sessionToken);\r\n\t\t\t\t\tsetLoggedIn(true);\r\n\t\t\t\t} */\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tsetSessionToken(response.logIn.sessionToken);\r\n\t\t\t\tsetLoggedIn(true);\r\n\t\t\t\tform.setSubmitting(false);\r\n\t\t\t\t// form.resetForm();\r\n\t\t\t},\r\n\t\t\tonError: (err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tform.setSubmitting(false);\r\n\t\t\t\tsetLoginInvalid(true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/* const handleSubmit = (values:FormState, form:FormikHelpers<FormState>) => {\r\n\t\t// setQuery(queries[values.query].query);\r\n\t\tform.setSubmitting(false);\r\n\t} */\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* <Formik\r\n\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t{({values}) => (\r\n\t\t\t\t\t<StyledForm>\r\n\t\t\t\t\t\t<h2>Result:</h2>\r\n\t\t\t\t\t\t<FetchWrap>\r\n\t\t\t\t\t\t\t<RelayEnvironmentProvider environment={relayEnvironment}>\r\n\t\t\t\t\t\t\t\t<Suspense fallback=\"Loading...\">\r\n\t\t\t\t\t\t\t\t\t<Inner query={preloadedQuery} />\r\n\t\t\t\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t\t\t</RelayEnvironmentProvider>\r\n\t\t\t\t\t\t</FetchWrap>\r\n\t\t\t\t\t</StyledForm>\r\n\t\t\t\t)}\r\n\t\t\t</Formik> */}\r\n\t\t\t<LogIn\r\n\t\t\t\tonSubmit={handleLogIn}\r\n\t\t\t\tisInvalid={loginInvalid}\r\n\t\t\t\tisLoggedIn={loggedIn}\r\n\t\t\t/>\r\n\t\t\t{loggedIn ? \r\n\t\t\t\t<SubmitPost sessionToken={sessionToken} />\r\n\t\t\t\t: null\r\n\t\t\t}\r\n\t\t\t<PostList />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}