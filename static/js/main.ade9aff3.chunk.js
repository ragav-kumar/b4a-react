(this["webpackJsonpb4a-react"]=this["webpackJsonpb4a-react"]||[]).push([[0],{131:function(e,n,t){e.exports=t(191)},136:function(e,n,t){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"username",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"password",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"logIn",storageKey:null,args:[{kind:"ObjectValue",name:"fields",fields:[{kind:"Variable",name:"password",variableName:"password"},{kind:"Variable",name:"username",variableName:"username"}]}],concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"username",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"sessionToken",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"queries_LogInMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"queries_LogInMutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"queries_LogInMutation",id:null,text:"mutation queries_LogInMutation(\n  $username: String!\n  $password: String!\n) {\n  logIn(fields: {username: $username, password: $password}) {\n    id\n    username\n    sessionToken\n  }\n}\n",metadata:{}}}}();a.hash="1d24e4027dabd0c6b8ea380ad6b797be",e.exports=a},137:function(e,n,t){"use strict";var a=function(){var e={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"createdAt",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"likes",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"showComments",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"queries_GetAllPostsQuery",type:"Query",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"posts",storageKey:null,args:null,concreteType:"PostFindResult",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"results",storageKey:null,args:null,concreteType:"Post",plural:!0,selections:[n,t,a,l]}]}]},operation:{kind:"Operation",name:"queries_GetAllPostsQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"posts",storageKey:null,args:null,concreteType:"PostFindResult",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"results",storageKey:null,args:null,concreteType:"Post",plural:!0,selections:[n,t,a,l,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"queries_GetAllPostsQuery",id:null,text:"query queries_GetAllPostsQuery {\n  posts {\n    count\n    results {\n      createdAt\n      content\n      likes\n      showComments\n      id\n    }\n  }\n}\n",metadata:{}}}}();a.hash="7e75fa148f84b8e0f90afafe766c2873",e.exports=a},138:function(e,n,t){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"content",type:"String",defaultValue:null},{kind:"LocalArgument",name:"likes",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"tags",type:"[Any]",defaultValue:null},{kind:"LocalArgument",name:"showComments",type:"Boolean",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"createPost",storageKey:null,args:[{kind:"ObjectValue",name:"fields",fields:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"likes",variableName:"likes"},{kind:"Variable",name:"showComments",variableName:"showComments"},{kind:"Variable",name:"tags",variableName:"tags"}]}],concreteType:"Post",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"queries_submitPostMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"queries_submitPostMutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"queries_submitPostMutation",id:null,text:"mutation queries_submitPostMutation(\n  $content: String\n  $likes: Float\n  $tags: [Any]\n  $showComments: Boolean\n) {\n  createPost(fields: {content: $content, likes: $likes, tags: $tags, showComments: $showComments}) {\n    id\n  }\n}\n",metadata:{}}}}();a.hash="f20edcdfe13d3876a206a82433f670c7",e.exports=a},191:function(e,n,t){"use strict";t.r(n);var a,l,r,i=t(0),o=t.n(i),s=t(49),u=t.n(s),c=t(25),m=t(22),d=t(23),g=void 0!==a?a:a=t(136),p=void 0!==l?l:l=t(137),b=void 0!==r?r:r=t(138),f=t(99),k=t.n(f),h=t(120),v=t(5),y={uri:null!=="https://parseapi.back4app.com/graphql"?"https://parseapi.back4app.com/graphql":"",applicationID:null!=="hvmO6tlbieMAfSGzowfAuG8dPx5fbLURNUPy6Bhd"?"hvmO6tlbieMAfSGzowfAuG8dPx5fbLURNUPy6Bhd":"",key:null!=="IEuZzLah49olpduSmL74fGv4uuiYaiBbuBLyJrKZ"?"IEuZzLah49olpduSmL74fGv4uuiYaiBbuBLyJrKZ":""},w=function(e){var n={"X-Parse-Application-Id":y.applicationID,"X-Parse-Javascript-Key":y.key,"Content-Type":"application/json"};return(null===e||void 0===e?void 0:e.length)&&(n["X-Parse-Session-Token"]=e),function(){var e=Object(h.a)(k.a.mark((function e(t,a){var l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching query ".concat(t.name," with ").concat(JSON.stringify(a))),console.log("Headers:",n),e.next=4,fetch(y.uri,{method:"POST",headers:n,body:JSON.stringify({query:t.text,variables:a})});case 4:return l=e.sent,e.next=7,l.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},E=new v.Environment({network:v.Network.create(w()),store:new v.Store(new v.RecordSource)});function S(e){return new v.Environment({network:v.Network.create(w(e)),store:new v.Store(new v.RecordSource)})}var O=t(17),j=t(31);function L(){var e=Object(m.a)(["\n\tpadding: 1em;\n\tmax-width: 400px;\n\t> * {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: [first] 8em [second] 1fr;\n\t\t\n\t\talign-items: center;\n\t\tspan {\n\t\t\tgrid-area: first;\n\t\t\tdisplay: block;\n\t\t\ttext-align: right;\n\t\t\tpadding-right: 1em;\n\t\t}\n\t\tinput {\n\t\t\tgrid-area: second;\n\t\t\tmargin-top: 5px;\n\t\t\t&[type=submit] {\n\t\t\t\tmax-width: 8em;\n\t\t\t}\n\t\t}\n\t}\n"]);return L=function(){return e},e}var x=Object(d.a)(O.b)(L()),q={content:"",likes:"",showComments:!1},P=j.c().shape({content:j.d().required("Required"),likes:j.b().integer(),showComments:j.a()}),I=function(e){return o.a.createElement(O.c,{initialValues:q,onSubmit:e.onSubmit,validationSchema:P},(function(){return o.a.createElement(x,null,o.a.createElement("label",null,o.a.createElement("span",null,"Content"),o.a.createElement(O.a,{name:"content",as:"input"})),o.a.createElement("label",null,o.a.createElement("span",null,"# of Likes"),o.a.createElement(O.a,{name:"likes",as:"input",type:"number"})),o.a.createElement("label",null,o.a.createElement("span",null,"Show Comments?"),o.a.createElement(O.a,{name:"showComments",as:"input",type:"checkbox"})),o.a.createElement("label",null,o.a.createElement(O.a,{name:"submit",as:"input",type:"submit",value:"Submit New Post"})))}))},F=function(e){var n=e.sessionToken,t=e.onSubmit,a=Object(i.useState)(),l=Object(c.a)(a,2),r=l[0],s=l[1];return Object(i.useEffect)((function(){s(S(n))}),[n]),r?o.a.createElement(I,{onSubmit:t}):null},C=o.a.createContext({username:"",loggedInEnvironment:null}),K=t(65);function A(){var e=Object(m.a)(["\n\tbackground-color: #070707;\n\tcolor: white;\n"]);return A=function(){return e},e}function V(){var e=Object(m.a)(["\n\tbackground-color: #070707;\n\tcolor: white;\n"]);return V=function(){return e},e}function T(){var e=Object(m.a)(["\n\tgrid-area: second;\n\tcolor: red;\n\tfont-size: 12px;\n\ttext-align: center;\n"]);return T=function(){return e},e}var M=d.a.div(T()),N=Object(d.a)(K.a.Header)(V()),R=Object(d.a)(K.a.Body)(A()),$=j.c().shape({username:j.d().required("Required"),password:j.d().required("Required")}),B={username:"",password:""},_=function(e){var n=e.onSubmit,t=e.isInvalid,a=e.isLoggedIn,l=e.show,r=e.onHide;return o.a.createElement(K.a,{show:l,onHide:r},o.a.createElement(N,{closeButton:!0},o.a.createElement(K.a.Title,null,"Log In")),o.a.createElement(R,null,o.a.createElement(O.c,{initialValues:B,onSubmit:n,validationSchema:$},(function(){return o.a.createElement(o.a.Fragment,null,a?null:o.a.createElement(x,null,o.a.createElement("label",null,o.a.createElement("span",null,"Username"),o.a.createElement(O.a,{name:"username",as:"input"})),o.a.createElement("label",null,o.a.createElement("span",null,"Password"),o.a.createElement(O.a,{name:"password",as:"input",type:"password"})),t?o.a.createElement("label",null,o.a.createElement(M,null,"Invalid Username / Password")):null,o.a.createElement("label",null,o.a.createElement(O.a,{name:"submit",as:"input",type:"submit",value:"Log in"}))))}))))};function G(){var e=Object(m.a)(["\n\tbackground-color: #333;\n\twidth: 100%;\n\tpadding: 5%;\n\tfont-size: 20px;\n\ttext-align: center;\n\tcursor: ",";\n"]);return G=function(){return e},e}var U=d.a.div(G(),(function(e){return e.loggedIn?"default":"pointer"})),D=function(e){var n=e.handleLogin,t=e.isInvalid,a=Object(i.useState)(!1),l=Object(c.a)(a,2),r=l[0],s=l[1],u=Object(i.useContext)(C),m=!!u.username.length;return Object(i.useEffect)((function(){u.username.length&&s(!1)}),[u]),o.a.createElement(U,{loggedIn:m,onClick:m?function(){}:function(){return s(!0)}},m?"Welcome, ".concat(u.username):"Welcome, User. Click here to log in.",o.a.createElement(_,{onSubmit:n,isInvalid:t,isLoggedIn:m,show:r,onHide:function(){return s(!1)}}))},J=t(128),z=t(129),Q=t.n(z);function H(){var e=Object(m.a)(["\n\twidth: 100%;\n\tmax-width: 480px;\n\theight: 100%;\n\tmax-height: 853px;\n\tborder: 3px double white;\n\toverflow-y: scroll;\n\tposition: relative;\n"]);return H=function(){return e},e}function W(){var e=Object(m.a)(["\n\theight: 100vh;\n\tbackground-color: black;\n\tcolor: white;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]);return W=function(){return e},e}var Z=d.a.div(W()),X=d.a.div(H()),Y=function(e){var n=e.children;return o.a.createElement(Z,null,o.a.createElement(X,null,n))},ee=function(){var e=Object(i.useState)(""),n=Object(c.a)(e,2),t=n[0],a=n[1],l=Object(i.useState)(""),r=Object(c.a)(l,2),s=r[0],u=r[1],m=Object(i.useState)(!1),d=Object(c.a)(m,2),f=d[0],k=d[1],h=Object(i.useState)(null),y=Object(c.a)(h,2),w=y[0],O=y[1],j=Object(i.useState)(!1),L=Object(c.a)(j,2),x=L[0],q=L[1];return o.a.createElement(C.Provider,{value:{username:s,loggedInEnvironment:w}},o.a.createElement(Y,null,o.a.createElement(D,{handleLogin:function(e,n){Object(v.commitMutation)(E,{mutation:g,variables:e,onCompleted:function(e,t){console.log(e),a(e.logIn.sessionToken),O(S(e.logIn.sessionToken)),u(e.logIn.username),n.setSubmitting(!1)},onError:function(e){console.log(e),n.setSubmitting(!1),k(!0)}})},isInvalid:f}),t.length?o.a.createElement(F,{sessionToken:t,onSubmit:function(e,n){w&&Object(v.commitMutation)(w,{mutation:b,variables:{content:e.content,likes:""===e.likes?0:e.likes,showComments:e.showComments,tags:["UserSubmitted"]},onCompleted:function(e,t){console.log(e),alert("Post submitted!"),q(!x),n.setSubmitting(!1),n.resetForm()},onError:function(e){alert("Failed to submit post: Login is not valid!"),console.log(e),n.setSubmitting(!1)}})}}):null,o.a.createElement(J.QueryRenderer,{environment:E,query:p,variables:{isUpdate:x},render:function(e){var n=e.props;return o.a.createElement(Q.a,{src:n,theme:"isotope",enableClipboard:!1})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.ade9aff3.chunk.js.map